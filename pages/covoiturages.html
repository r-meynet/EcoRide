<h1 class="text-center text-light my-5">Covoiturages</h1>

<!-- Section recherche -->
<section class="container">
    <div class="card mb-4 border-0 shadow">
        <div class="card-body">
            <div>
                <form class="row" id="recherche">
                    <h4 class="card-title text-center mb-3">Trouver mon covoiturage</h4>
                    <div class="mb-3 col-lg-4 col-12">
                        <label for="villeDepartCovoit" class="form-label">Ville de départ</label>
                        <input type="text" class="form-control" id="villeDepartCovoit" />
                    </div>
                    <div class="mb-3 col-lg-4 col-12">
                        <label for="villeArriveeCovoit" class="form-label">Ville d'arrivée</label>
                        <input type="text" class="form-control" id="villeArriveeCovoit" />
                    </div>
                    <div class="mb-3 col-lg-4 col-12">
                        <label for="dateCovoit" class="form-label">Date</label>
                        <input type="date" class="form-control" id="dateCovoit" />
                    </div>
                    <div class="d-flex justify-content-center">
                        <button class="btn btn-primary mx-3" id="btnRechercherCovoit">
                            Voir les trajets
                        </button>
                        <button class="btn btn-outline-secondary mx-3" id="btnViderRecherche">
                            Réinitialiser
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<!-- Affichage global de la page -->
<section class="container">
    <div class="row row-cols-2">
        <!-- Section de filtre -->
        <div class="col-3 d-none d-lg-block">
            <div class="card mb-4 border-0 shadow">
                <div class="card-body">
                    <form id="formulaireSide">
                        <div class="d-flex flex-column">
                            <div>
                                <h4 class="card-title text-center mb-3">Filtrer la recherche</h4>
                                <label class="form-label fw-semibold">
                                    Voyage écologique uniquement
                                </label>
                                <div class="form-check form-switch pt-1">
                                    <input
                                        class="form-check-input mb-3"
                                        type="checkbox"
                                        role="switch"
                                        id="switchCheckEcoSide" />
                                    <label class="form-check-label" for="switchCheckEcoSide">
                                        Eco
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="form-label fw-semibold">Prix maximum (crédits)</label>
                                <div class="text-center">
                                    <input
                                        type="range"
                                        class="form-range"
                                        min="0"
                                        max="100"
                                        value="100"
                                        id="prixMaxSide" />
                                    <output
                                        for="prixMaxSide"
                                        id="prixMaxSideOutput"
                                        aria-hidden="true"
                                        class="mb-3"></output>
                                </div>
                            </div>

                            <div>
                                <label class="form-label fw-semibold">Durée maximum (h)</label>
                                <div class="text-center">
                                    <input
                                        type="range"
                                        class="form-range"
                                        min="0"
                                        max="10"
                                        step="0.5"
                                        value="10"
                                        id="dureeMaxSide" />
                                    <output
                                        for="dureeMaxSide"
                                        id="dureeMaxSideOutput"
                                        aria-hidden="true"
                                        class="mb-3"></output>
                                </div>
                            </div>

                            <div>
                                <label class="form-label fw-semibold">Note minimum (sur 5)</label>
                                <div class="text-center">
                                    <input
                                        type="range"
                                        class="form-range"
                                        min="0"
                                        max="5"
                                        step="0.5"
                                        value="0"
                                        id="noteMinSide" />
                                    <output
                                        for="noteMinSide"
                                        id="noteMinSideOutput"
                                        aria-hidden="true"
                                        class="mb-3"></output>
                                </div>
                            </div>

                            <div class="text-center mb-2">
                                <button
                                    class="btn btn-outline-secondary"
                                    id="btnViderFiltreSide"
                                    data-filtre="side">
                                    Réinitialiser
                                </button>
                            </div>
                            <div class="text-center my-auto">
                                <button
                                    class="btn btn-primary"
                                    id="btnFiltreSide"
                                    data-filtre="side">
                                    Filtrer les trajets
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Section des covoiturages disponibles -->
        <div class="col-12 col-lg-9">
            <!-- Affichage résultats et bouton filtre -->
            <div class="d-flex align-items-center mb-3">
                <h5 class="me-3 mb-0" id="nombreResultats"></h5>
                <button
                    type="button"
                    class="btn btn-outline-dark d-inline d-lg-none"
                    data-bs-toggle="modal"
                    data-bs-target="#filtreModal">
                    Filtres
                    <i class="bi bi-filter-circle-fill"></i>
                </button>
            </div>

            <div id="affichage-trajets">
                <!-- Le contenu des cartes représentant les covoiturages seront affichés ici -->
            </div>
        </div>
    </div>
</section>

<!-- Section pour la modale de filtre (uniquement en mobile) -->
<div
    class="modal"
    tabindex="-1"
    id="filtreModal"
    aria-labelledby="filtreModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="filtreModalLabel">Filtrer la recherche</h5>
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="formulaireModal">
                    <div class="d-flex flex-column">
                        <div>
                            <h4 class="card-title text-center mb-3">Filtrer la recherche</h4>
                            <label class="form-label fw-semibold">
                                Voyage écologique uniquement
                            </label>
                            <div class="form-check form-switch pt-1">
                                <input
                                    class="form-check-input mb-3"
                                    type="checkbox"
                                    role="switch"
                                    id="switchCheckEcoModal" />
                                <label class="form-check-label" for="switchCheckEcoModal">
                                    Eco
                                </label>
                            </div>
                        </div>

                        <div>
                            <label class="form-label fw-semibold">Prix maximum (crédits)</label>
                            <div class="text-center">
                                <input
                                    type="range"
                                    class="form-range"
                                    min="0"
                                    max="100"
                                    value="100"
                                    id="prixMaxModal" />
                                <output
                                    for="prixMaxModal"
                                    id="prixMaxModalOutput"
                                    aria-hidden="true"
                                    class="mb-3"></output>
                            </div>
                        </div>

                        <div>
                            <label class="form-label fw-semibold">Durée maximum (h)</label>
                            <div class="text-center">
                                <input
                                    type="range"
                                    class="form-range"
                                    min="0"
                                    max="10"
                                    step="0.5"
                                    value="10"
                                    id="dureeMaxModal" />
                                <output
                                    for="dureeMaxModal"
                                    id="dureeMaxModalOutput"
                                    aria-hidden="true"
                                    class="mb-3"></output>
                            </div>
                        </div>

                        <div>
                            <label class="form-label fw-semibold">Note minimum ( sur 5)</label>
                            <div class="text-center">
                                <input
                                    type="range"
                                    class="form-range"
                                    min="0"
                                    max="5"
                                    step="0.5"
                                    value="0"
                                    id="noteMinModal" />
                                <output
                                    for="noteMinModal"
                                    id="noteMinModalOutput"
                                    aria-hidden="true"
                                    class="mb-3"></output>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    Close
                </button>
                <button
                    type="button"
                    class="btn btn-outline-secondary"
                    id="btnViderFiltreModal"
                    data-bs-dismiss="modal"
                    data-filtre="modal">
                    Réinitialiser
                </button>
                <button
                    type="button"
                    class="btn btn-primary"
                    data-filtre="modal"
                    data-bs-dismiss="modal"
                    id="btnFiltreModal">
                    Filtrer les trajets
                </button>
            </div>
        </div>
    </div>
</div>
